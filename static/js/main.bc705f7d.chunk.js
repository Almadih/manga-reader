(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a(19),s=a.n(r),i=a(18),o=a(7),h=a(26),l=a(27),j=a(29),d=a(28),p=a(132),m=a(124),u=a(106),b=a(125),O=a(134),x=a(126),f=a(22),v=a(121),g=a(122),w=a(42),y=a(123);var k=Object(o.withRouter)((function(e){return Object(n.jsx)(v.a,{position:"fixed",color:"secondary",children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(w.a,{variant:"h6",children:"Manga"}),Object(n.jsx)(y.a,{container:!0,justify:"center",children:Object(n.jsx)(y.a,{item:!0,children:Object(n.jsx)(w.a,{variant:"h6",children:e.title})})})]})})})),S=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{}),Object(n.jsx)(p.a,{mt:10,children:Object(n.jsx)(m.a,{children:Object(n.jsx)(u.a,{children:Object(n.jsx)(b.a,{component:"nav",children:this.props.mangas.map((function(e){return Object(n.jsx)(i.b,{to:"/manga/".concat(e.name),children:Object(n.jsx)(O.a,{button:!0,children:Object(n.jsx)(x.a,{children:e.name})})},e.name)}))})})})})]})}}]),a}(c.Component),R=Object(f.b)((function(e){return{mangas:e.mangas}}))(S),C=a(129),A=a(63),T=a(127),I=a(128);var N=Object(o.withRouter)((function(e){return Object(n.jsx)(y.a,{container:!0,justify:e.justify,children:Object(n.jsxs)(y.a,{item:!0,md:8,container:!0,xs:12,children:[Object(n.jsx)(y.a,{item:!0,xs:e.xs,children:Object(n.jsx)(p.a,{ml:0,mt:4,children:Object(n.jsx)(T.a,{startIcon:Object(n.jsx)(I.a,{children:"west"}),onClick:function(){return e.history.push(e.path)},children:"Go Back"})})}),Object(n.jsx)(y.a,{item:!0,xs:4,className:"text-center",children:Object(n.jsx)(p.a,{ml:0,mt:4,children:Object(n.jsx)(w.a,{variant:"h5",children:e.title})})})]})})})),W=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={manga:{},lastRead:""},e.setLastRead=function(e){localStorage.setItem("lastRead",e)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({lastRead:localStorage.getItem("lastRead")})}},{key:"render",value:function(){var e,t=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{title:this.props.match.params.name}),Object(n.jsx)(p.a,{mt:5,children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(N,{path:"/"}),Object(n.jsxs)(p.a,{p:1,children:[Object(n.jsx)(u.a,{children:Object(n.jsx)(b.a,{component:"nav",children:null===(e=this.state.manga)||void 0===e?void 0:e.chapters.map((function(e){return Object(n.jsxs)(i.b,{to:"/manga/".concat(t.state.manga.name,"/chapter/").concat(e.name),onClick:function(){return t.setLastRead(e.name)},children:[Object(n.jsx)(O.a,{button:!0,selected:e.name===t.state.lastRead,children:Object(n.jsx)(x.a,{children:e.name})}),Object(n.jsx)(C.a,{})]},e.name)}))})}),"    "]})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{manga:e.mangas.find((function(t){return t.name===e.match.params.name}))}}}]),a}(c.Component),E=Object(f.b)((function(e){return{mangas:e.mangas}}))(Object(A.withRouter)(W)),M=a(48),F=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={chapter:{},manga:{},next:"",prev:""},e.next=function(){var t=e.props.match.params.name;e.props.history.push("/manga/".concat(t,"/chapter/").concat(e.state.next)),setTimeout((function(){var t=e.state.manga,a=t.chapters.findIndex((function(t){return t.name===e.props.match.params.id}));a+1!==t.chapters.length&&e.setState({next:t.chapters[a+1].name})}),100),window.scrollTo(0,0)},e.prev=function(){var t=e.props.match.params.name;e.props.history.push("/manga/".concat(t,"/chapter/").concat(e.state.prev)),setTimeout((function(){var t=e.state.manga,a=t.chapters.findIndex((function(t){return t.name===e.props.match.params.id}));0!==a&&e.setState({prev:t.chapters[a-1].name})}),100),window.scrollTo(0,0)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.manga,t=this.props.match.params.id,a=null===e||void 0===e?void 0:e.chapters.findIndex((function(e){return e.name===t}));a+1!==e.chapters.length&&this.setState({next:e.chapters[a+1].name}),0!==a&&this.setState({prev:e.chapters[a-1].name})}},{key:"render",value:function(){var e,t=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)(k,{title:"".concat(this.props.match.params.name," - chapter ").concat(this.props.match.params.id)}),Object(n.jsx)(p.a,{mt:5,children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(N,{path:"/manga/".concat(this.props.match.params.name)}),null===(e=this.state.chapter)||void 0===e?void 0:e.pages.map((function(e){return Object(n.jsx)(p.a,{p:1,children:Object(n.jsx)(u.a,{children:Object(n.jsx)("img",{src:e,width:"100%",alt:"".concat(t.props.match.params.name," - chapter ").concat(t.props.match.params.id)},"".concat(t.props.match.params.name," - chapter ").concat(t.props.match.params.id))})})})),Object(n.jsx)(p.a,{p:1,children:Object(n.jsxs)(y.a,{container:!0,justify:"space-between",children:[Object(n.jsx)(y.a,{item:!0,xs:4,children:Object(n.jsx)(T.a,{disabled:""===this.state.prev,variant:"contained",color:"primary",onClick:this.prev,startIcon:Object(n.jsx)(I.a,{children:"arrow_left"}),children:"Prev Chapter"})}),Object(n.jsx)(y.a,{item:!0,xs:4,className:"text-right",children:Object(n.jsx)(T.a,{disabled:""===this.state.next,variant:"contained",color:"primary",onClick:this.next,endIcon:Object(n.jsx)(I.a,{children:"arrow_right"}),children:"Next Chapter"})})]})})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a;return Object(M.a)(Object(M.a)({},t),{},{chapter:null===(a=e.mangas.find((function(t){return t.name===e.match.params.name})))||void 0===a?void 0:a.chapters.find((function(t){return t.name===e.match.params.id})),manga:e.mangas.find((function(t){return t.name===e.match.params.name}))})}}]),a}(c.Component),_=Object(f.b)((function(e){return{mangas:e.mangas}}))(Object(o.withRouter)(F)),D=a(25),G=a(64),L=a(65),P={FETCH_MANGAS:"FETCH_MANGAS"},H=[];var U={mangas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.FETCH_MANGAS:return t.payload;default:return e}}},B=Object(G.composeWithDevTools)(Object(D.applyMiddleware)(L.a)),J=Object(D.createStore)(Object(D.combineReducers)(U),B),$=a(47),q=a.n($),z=a(66),K=a(67),Q=a.n(K).a.create({headers:{"content-type":"application/json","x-access-token":localStorage.getItem("token")},baseURL:"https://192.168.43.111:3001/api"}),V=function(){var e=Object(z.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.get("/");case 2:a=e.sent,t({type:P.FETCH_MANGAS,payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var X=function(e){return Object(c.useEffect)((function(){J.dispatch(V)}),[]),Object(n.jsx)(c.Fragment,{children:Object(n.jsxs)(o.Switch,{children:[Object(n.jsx)(o.Route,{exact:!0,path:"/",children:Object(n.jsx)(R,{})}),Object(n.jsx)(o.Route,{exact:!0,path:"/manga/:name",children:Object(n.jsx)(E,{})}),Object(n.jsx)(o.Route,{exact:!0,path:"/manga/:name/chapter/:id",children:Object(n.jsx)(_,{})})]})})},Y=(a(104),a(130)),Z=a(41),ee=a(68),te=Object(ee.a)({palette:{primary:{main:"#3949ab"},secondary:Z.a}}),ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}!function(e){if("serviceWorker"in navigator){if(new URL("/manga-reader",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/manga-reader","/service-worker.js");ae?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ne(t,e)}))}}(),s.a.render(Object(n.jsx)(i.a,{basename:"/manga-reader",children:Object(n.jsx)(Y.a,{theme:te,children:Object(n.jsx)(f.a,{store:J,children:Object(n.jsx)(X,{})})})}),document.getElementById("root"))}},[[105,1,2]]]);
//# sourceMappingURL=main.bc705f7d.chunk.js.map